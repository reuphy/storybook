<div class="container mt-4">
  <h5 class="mb-4">
    This example fetches a list of Pok√©mons and their details, then displays
    their names and images.
  </h5>
  <div *ngIf="pokemons().isLoading">Loading...</div>
  <div *ngIf="pokemons().error">
    <div class="alert alert-danger" role="alert">
      {{ pokemons()?.error || error }}
    </div>
  </div>
  <div *ngIf="pokemons().results.length > 0">
    <div class="row">
      @for (pokemon of pokemons().results; track pokemon; let index = $index) {
      <div class="col-md-4">
        <div
          class="card cursor-pointer mb-4 shadow-sm"
          (click)="getPokemonDetails(pokemon)"
        >
          <img
            [src]="pokemon.image"
            class="card-img-top"
            alt="{{ pokemon.name }}"
          />
          <div class="card-body">
            <h5 class="card-title">{{ pokemon.name }}</h5>
          </div>
        </div>
      </div>
      }
    </div>
  </div>

  <div *ngIf="selectedPokemon().isLoading">Loading...</div>
  <div *ngIf="selectedPokemon().error">
    <div class="alert alert-danger" role="alert">
      {{ selectedPokemon()?.error || error }}
    </div>
  </div>
  <div *ngIf="selectedPokemon().results" class="col-md-4">
    <button class="btn btn-primary mb-4" (click)="goBackToPokemonsList()">
      Back to List
    </button>
    <div class="card mb-4 shadow-sm">
      <img
        [src]="selectedPokemon().results.image"
        class="card-img-top"
        alt="{{ selectedPokemon().results.name }}"
      />
      <div class="card-body">
        <h5 class="card-title">{{ selectedPokemon().results.name }}</h5>
      </div>
    </div>
  </div>
</div>
